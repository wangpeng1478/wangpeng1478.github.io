(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fdd4ac8"],{1414:function(t,e,n){"use strict";n("d6bd")},2296:function(t,e,n){"use strict";n("e648")},"2e4f":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"word-cog"},[n("Card",{staticClass:"card-view",attrs:{shadow:""}},[n("h1",[t._v("cog")])])],1)},i=[],a=n("decf"),c=(n("7e1e"),n("90de")),r={name:"word_cog",components:{upImg:a["a"]},data:function(){return{}},mounted:function(){},methods:{decoding:function(t){return Object(c["i"])(t)}}},s=r,d=(n("2296"),n("c701")),u=Object(d["a"])(s,o,i,!1,null,null,null);e["default"]=u.exports},4057:function(t,e,n){"use strict";n("de49");var o=n("a86f"),i=n("6bf8"),a=n("26df"),c="toString",r=/./[c],s=function(t){n("84e8")(RegExp.prototype,c,t,!0)};n("0926")((function(){return"/a/b"!=r.call({source:"a",flags:"b"})}))?s((function(){var t=o(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)})):r.name!=c&&s((function(){return r.call(this)}))},d6bd:function(t,e,n){},de49:function(t,e,n){n("26df")&&"g"!=/./g.flags&&n("bb8b").f(RegExp.prototype,"flags",{configurable:!0,get:n("6bf8")})},decf:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload"},[n("input",{ref:"upload",staticStyle:{display:"none"},attrs:{id:"upload",type:"file",accept:"image/*"},on:{change:t.fileChang}}),n("label",{ref:"dz",staticClass:"upload-view",attrs:{for:"upload"}},[n("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),n("p",[t._v("单击或拖动文件以上传")])],1)])},i=[],a=(n("4057"),n("a450"),n("b231")),c=n.n(a),r=n("90de"),s=n("e04f"),d=n.n(s),u={name:"upload",props:{path:{path:String,default:"all"}},data:function(){return{time:(new Date).toLocaleString(),Bucket:"wxword-1254176432",Region:"ap-shanghai",SecretId:"",SecretKey:""}},mounted:function(){var t=d.a.get("SecretId"),e=d.a.get("token");t&&e?(this.SecretId=t,this.SecretKey=e,this.initdz(),this.initCos()):this.$Message.warning("参数错误")},methods:{initdz:function(){var t=this,e=this.$refs.dz;e.ondragover=function(t){t.preventDefault(),this.style.borderColor="red"},e.ondragleave=function(){this.style.borderColor="#dcdee2"},e.ondrop=function(e){this.style.borderColor="#dcdee2",e.preventDefault();var n=e.dataTransfer.files;n.length>0&&t.putObject(n[0])}},initCos:function(){var t=this;this.cos=new c.a({SecretId:t.SecretId,SecretKey:t.SecretKey,Protocol:"https:"})},fileChang:function(){var t=this.$refs.upload.files[0];this.putObject(t)},putObject:function(t){var e=this;if(t.type&&-1!==t.type.indexOf("image")){this.$Spin.show({render:function(t){return t("div",[t("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),t("div","上传中")])}});var n=this,o=t.name?Math.random().toString(16).substring(2)+"-"+t.name:Math.random().toString(16).substring(2),i=Object(r["h"])(new Date,"{y}-{m}-{d}");this.$refs.upload.value="",n.cos.putObject({Bucket:n.Bucket,Region:n.Region,Key:"".concat(n.path,"/").concat(i,"/").concat(o),Body:t},(function(t,n){e.$Spin.hide(),!t&&n.Location?e.$emit("on-result","https://".concat(n.Location)):(e.$emit("on-result",t),e.$Notice.error({title:"上传失败",desc:t.error}))}))}else this.$Message.warning("请上传图片")}}},l=u,f=(n("1414"),n("c701")),p=Object(f["a"])(l,o,i,!1,null,"3b0e612d",null);e["a"]=p.exports},e648:function(t,e,n){}}]);